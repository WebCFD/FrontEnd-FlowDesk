Canvas2D.tsx:3309 ğŸŸ¢ [CANVAS2D DEBUG] handleAirEntryPositionUpdate called with index: 0 position: {x: 214.19592913679008, y: 432.81933842984057}
Canvas2D.tsx:3315 ğŸŸ¢ [CANVAS2D DEBUG] Original entry before update: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581610617_4dwgur7f4',Â â€¦}
Canvas2D.tsx:3316 ğŸŸ¢ [CANVAS2D DEBUG] Original wallPosition: undefined
Canvas2D.tsx:3323 ğŸŸ¢ [CANVAS2D DEBUG] Updated entry after position change: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581610617_4dwgur7f4',Â â€¦}
Canvas2D.tsx:3324 ğŸŸ¢ [CANVAS2D DEBUG] wallPosition preserved?: undefined
Canvas2D.tsx:3309 ğŸŸ¢ [CANVAS2D DEBUG] handleAirEntryPositionUpdate called with index: 0 position: {x: 396.20045231813447, y: 436.35340684112884}
Canvas2D.tsx:3315 ğŸŸ¢ [CANVAS2D DEBUG] Original entry before update: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581610617_4dwgur7f4',Â â€¦}
Canvas2D.tsx:3316 ğŸŸ¢ [CANVAS2D DEBUG] Original wallPosition: undefined
Canvas2D.tsx:3323 ğŸŸ¢ [CANVAS2D DEBUG] Updated entry after position change: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581610617_4dwgur7f4',Â â€¦}
Canvas2D.tsx:3324 ğŸŸ¢ [CANVAS2D DEBUG] wallPosition preserved?: undefined
Canvas2D.tsx:3309 ğŸŸ¢ [CANVAS2D DEBUG] handleAirEntryPositionUpdate called with index: 1 position: {x: 593.4423524007674, y: 402.2305903969306}
Canvas2D.tsx:3315 ğŸŸ¢ [CANVAS2D DEBUG] Original entry before update: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581611605_zzaglesxy',Â â€¦}
Canvas2D.tsx:3316 ğŸŸ¢ [CANVAS2D DEBUG] Original wallPosition: undefined
Canvas2D.tsx:3323 ğŸŸ¢ [CANVAS2D DEBUG] Updated entry after position change: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581611605_zzaglesxy',Â â€¦}
Canvas2D.tsx:3324 ğŸŸ¢ [CANVAS2D DEBUG] wallPosition preserved?: undefined
Canvas2D.tsx:3309 ğŸŸ¢ [CANVAS2D DEBUG] handleAirEntryPositionUpdate called with index: 1 position: {x: 629.657326399721, y: 257.3706944011161}
Canvas2D.tsx:3315 ğŸŸ¢ [CANVAS2D DEBUG] Original entry before update: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581611605_zzaglesxy',Â â€¦}
Canvas2D.tsx:3316 ğŸŸ¢ [CANVAS2D DEBUG] Original wallPosition: undefined
Canvas2D.tsx:3323 ğŸŸ¢ [CANVAS2D DEBUG] Updated entry after position change: {type: 'window', position: {â€¦}, dimensions: {â€¦}, line: {â€¦}, lineId: '1752581611605_zzaglesxy',Â â€¦}
Canvas2D.tsx:3324 ğŸŸ¢ [CANVAS2D DEBUG] wallPosition preserved?: undefined
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: false, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 ğŸ’¾ SNAPSHOT GUARDADO PARA PRÃ“XIMA EDICIÃ“N
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: null
Canvas3D.tsx:1032 ğŸ” floors prop changed: ['ground']
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:2598 ğŸ” [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752581652082}
Canvas3D.tsx:5273 ğŸ”¥ SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5281 ğŸ” [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {â€¦}, timestamp: 1752581652091}
Canvas3D.tsx:4758 ğŸ” [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2)Â [{â€¦}, {â€¦}]
Canvas3D.tsx:4767 ğŸ” [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4777 ğŸ” [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 0, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'window_0F_1', detectedPosition: {â€¦},Â â€¦}
Canvas3D.tsx:4802 ğŸ¯ [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4811 ğŸ¯ [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 0,Â â€¦}
Canvas3D.tsx:4822 Double-click position search: {airEntryData: {â€¦}, entryPosition: {â€¦}, storedEntryIndex: 0}
Canvas3D.tsx:4835 âœ… [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 0, detectedMeshId: 'window_0F_1', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 0,Â â€¦}
Canvas3D.tsx:4849 Double-click found entry using stored entryIndex: 0
Canvas3D.tsx:4894 ğŸ” [ID DEBUG] DIALOG WILL SHOW THESE IDs: {mergedEntryId: 'window_0F_1', baseEntryId: 'window_0F_1', meshAirEntryId: 'window_0F_1', expectedFormat: "Should be like 'window_0F_1'", actualId: 'window_0F_1',Â â€¦}
Canvas3D.tsx:4904 âœ… [CROSS-FLOOR FIX] DIALOG OPENING WITH CORRECT MAPPED DATA: {dialogWillShow: {â€¦}, userClickedOn: {â€¦}, mapping: {â€¦}, explanation: "Dialog shows data from mapped floor 'ground' matching clicked mesh from 'Ground Floor'"}
Canvas3D.tsx:4923 ğŸ§ª [DIAGNOSIS] setEditingAirEntry called with: {index: 0, floorName: 'ground', entryId: 'window_0F_1', entryType: 'window', entryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}
Canvas3D.tsx:1004 ğŸ§Š USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_1', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_1', finalProperties: {â€¦}, wallPosition: 55}
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: ground
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 0, floor: 'ground', entryId: 'window_0F_1'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:4387 Hovering over axis mesh: z
Canvas3D.tsx:4387 Hovering over axis mesh: z
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:6453 ğŸ’¾ [PERSISTENCE DEBUG] Save Changes clicked: {entryId: 'window_0F_1', index: 0, floorName: 'ground', newProperties: {â€¦}, newWallPosition: 55}
Canvas3D.tsx:2352 ğŸ”„ [PERSISTENCE DEBUG] About to update store: {entryId: 'window_0F_1', floorName: 'ground', index: 0, newProperties: {â€¦}, newWallPosition: 55}
wizard-design.tsx:1064 ğŸ§ª [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 0, receivedEntryId: 'window_0F_1', receivedEntryType: 'window', receivedEntryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 ğŸ’¾ SNAPSHOT GUARDADO PARA PRÃ“XIMA EDICIÃ“N
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: null
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:2598 ğŸ” [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752581655065}
Canvas3D.tsx:5273 ğŸ”¥ SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5281 ğŸ” [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {â€¦}, timestamp: 1752581655070}
Canvas3D.tsx:4758 ğŸ” [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2)Â [{â€¦}, {â€¦}]
Canvas3D.tsx:4767 ğŸ” [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4777 ğŸ” [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 1, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'window_0F_1', detectedPosition: {â€¦},Â â€¦}
Canvas3D.tsx:4802 ğŸ¯ [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4811 ğŸ¯ [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 1,Â â€¦}
Canvas3D.tsx:4822 Double-click position search: {airEntryData: {â€¦}, entryPosition: {â€¦}, storedEntryIndex: 1}
Canvas3D.tsx:4835 âœ… [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 1, detectedMeshId: 'window_0F_1', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 1,Â â€¦}
Canvas3D.tsx:4849 Double-click found entry using stored entryIndex: 1
Canvas3D.tsx:4894 ğŸ” [ID DEBUG] DIALOG WILL SHOW THESE IDs: {mergedEntryId: 'window_0F_2', baseEntryId: 'window_0F_2', meshAirEntryId: 'window_0F_1', expectedFormat: "Should be like 'window_0F_1'", actualId: 'window_0F_2',Â â€¦}
Canvas3D.tsx:4904 âœ… [CROSS-FLOOR FIX] DIALOG OPENING WITH CORRECT MAPPED DATA: {dialogWillShow: {â€¦}, userClickedOn: {â€¦}, mapping: {â€¦}, explanation: "Dialog shows data from mapped floor 'ground' matching clicked mesh from 'Ground Floor'"}
Canvas3D.tsx:4923 ğŸ§ª [DIAGNOSIS] setEditingAirEntry called with: {index: 1, floorName: 'ground', entryId: 'window_0F_2', entryType: 'window', entryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}
Canvas3D.tsx:1004 ğŸ§Š USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_2', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_2', finalProperties: undefined, wallPosition: undefined}
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: ground
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 1, floor: 'ground', entryId: 'window_0F_2'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:6453 ğŸ’¾ [PERSISTENCE DEBUG] Save Changes clicked: {entryId: 'window_0F_2', index: 1, floorName: 'ground', newProperties: {â€¦}, newWallPosition: 57.38920867395161}
Canvas3D.tsx:2352 ğŸ”„ [PERSISTENCE DEBUG] About to update store: {entryId: 'window_0F_2', floorName: 'ground', index: 1, newProperties: {â€¦}, newWallPosition: 57.38920867395161}
wizard-design.tsx:1064 ğŸ§ª [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 1, receivedEntryId: 'window_0F_2', receivedEntryType: 'window', receivedEntryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 ğŸ’¾ SNAPSHOT GUARDADO PARA PRÃ“XIMA EDICIÃ“N
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: null
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:2598 ğŸ” [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752581658030}
Canvas3D.tsx:5273 ğŸ”¥ SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5281 ğŸ” [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {â€¦}, timestamp: 1752581658034}
Canvas3D.tsx:4758 ğŸ” [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2)Â [{â€¦}, {â€¦}]
Canvas3D.tsx:4767 ğŸ” [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4777 ğŸ” [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 0, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'window_0F_1', detectedPosition: {â€¦},Â â€¦}
Canvas3D.tsx:4802 ğŸ¯ [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4811 ğŸ¯ [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 0,Â â€¦}
Canvas3D.tsx:4822 Double-click position search: {airEntryData: {â€¦}, entryPosition: {â€¦}, storedEntryIndex: 0}
Canvas3D.tsx:4835 âœ… [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 0, detectedMeshId: 'window_0F_1', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 0,Â â€¦}
Canvas3D.tsx:4849 Double-click found entry using stored entryIndex: 0
Canvas3D.tsx:4894 ğŸ” [ID DEBUG] DIALOG WILL SHOW THESE IDs: {mergedEntryId: 'window_0F_1', baseEntryId: 'window_0F_1', meshAirEntryId: 'window_0F_1', expectedFormat: "Should be like 'window_0F_1'", actualId: 'window_0F_1',Â â€¦}
Canvas3D.tsx:4904 âœ… [CROSS-FLOOR FIX] DIALOG OPENING WITH CORRECT MAPPED DATA: {dialogWillShow: {â€¦}, userClickedOn: {â€¦}, mapping: {â€¦}, explanation: "Dialog shows data from mapped floor 'ground' matching clicked mesh from 'Ground Floor'"}
Canvas3D.tsx:4923 ğŸ§ª [DIAGNOSIS] setEditingAirEntry called with: {index: 0, floorName: 'ground', entryId: 'window_0F_1', entryType: 'window', entryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}
Canvas3D.tsx:1004 ğŸ§Š USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_1', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_1', finalProperties: undefined, wallPosition: 55}
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: ground
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 0, floor: 'ground', entryId: 'window_0F_1'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:4387 Hovering over axis mesh: z
Canvas3D.tsx:6453 ğŸ’¾ [PERSISTENCE DEBUG] Save Changes clicked: {entryId: 'window_0F_1', index: 0, floorName: 'ground', newProperties: {â€¦}, newWallPosition: 55}
Canvas3D.tsx:2352 ğŸ”„ [PERSISTENCE DEBUG] About to update store: {entryId: 'window_0F_1', floorName: 'ground', index: 0, newProperties: {â€¦}, newWallPosition: 55}
wizard-design.tsx:1064 ğŸ§ª [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 0, receivedEntryId: 'window_0F_1', receivedEntryType: 'window', receivedEntryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 ğŸ’¾ SNAPSHOT GUARDADO PARA PRÃ“XIMA EDICIÃ“N
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: null
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:2598 ğŸ” [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752581661437}
Canvas3D.tsx:5273 ğŸ”¥ SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5281 ğŸ” [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {â€¦}, timestamp: 1752581661439}
Canvas3D.tsx:4758 ğŸ” [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2)Â [{â€¦}, {â€¦}]
Canvas3D.tsx:4767 ğŸ” [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4777 ğŸ” [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 1, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'window_0F_1', detectedPosition: {â€¦},Â â€¦}
Canvas3D.tsx:4802 ğŸ¯ [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4811 ğŸ¯ [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 1,Â â€¦}
Canvas3D.tsx:4822 Double-click position search: {airEntryData: {â€¦}, entryPosition: {â€¦}, storedEntryIndex: 1}
Canvas3D.tsx:4835 âœ… [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 1, detectedMeshId: 'window_0F_1', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 1,Â â€¦}
Canvas3D.tsx:4849 Double-click found entry using stored entryIndex: 1
Canvas3D.tsx:4894 ğŸ” [ID DEBUG] DIALOG WILL SHOW THESE IDs: {mergedEntryId: 'window_0F_2', baseEntryId: 'window_0F_2', meshAirEntryId: 'window_0F_1', expectedFormat: "Should be like 'window_0F_1'", actualId: 'window_0F_2',Â â€¦}
Canvas3D.tsx:4904 âœ… [CROSS-FLOOR FIX] DIALOG OPENING WITH CORRECT MAPPED DATA: {dialogWillShow: {â€¦}, userClickedOn: {â€¦}, mapping: {â€¦}, explanation: "Dialog shows data from mapped floor 'ground' matching clicked mesh from 'Ground Floor'"}
Canvas3D.tsx:4923 ğŸ§ª [DIAGNOSIS] setEditingAirEntry called with: {index: 1, floorName: 'ground', entryId: 'window_0F_2', entryType: 'window', entryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}
Canvas3D.tsx:1004 ğŸ§Š USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_2', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_2', finalProperties: undefined, wallPosition: undefined}
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: ground
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 1, floor: 'ground', entryId: 'window_0F_2'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:1813 ğŸ” POSITION UPDATE - SCENE MESH INVENTORY: {editingEntry: {â€¦}, allAirEntryMeshes: Array(2)}
Canvas3D.tsx:1842 ğŸ¯ POSITION UPDATE - EXACT MATCH FOUND: {type: 'window', entryIndex: 1, floorName: 'Ground Floor', position: _Vector3}
Canvas3D.tsx:1873 ğŸ§ª [DIAGNOSIS] onUpdateAirEntry callback executing: {callbackFloorName: 'ground', callbackIndex: 1, updatedEntry: {â€¦}, editingAirEntryState: {â€¦}, timestamp: 1752581664568}
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_2', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_2', finalProperties: undefined, wallPosition: undefined}
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 1, floor: 'ground', entryId: 'window_0F_2'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:1813 ğŸ” POSITION UPDATE - SCENE MESH INVENTORY: {editingEntry: {â€¦}, allAirEntryMeshes: Array(2)}
Canvas3D.tsx:1842 ğŸ¯ POSITION UPDATE - EXACT MATCH FOUND: {type: 'window', entryIndex: 1, floorName: 'Ground Floor', position: _Vector3}
Canvas3D.tsx:1873 ğŸ§ª [DIAGNOSIS] onUpdateAirEntry callback executing: {callbackFloorName: 'ground', callbackIndex: 1, updatedEntry: {â€¦}, editingAirEntryState: {â€¦}, timestamp: 1752581664722}
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_2', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_2', finalProperties: undefined, wallPosition: undefined}
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 1, floor: 'ground', entryId: 'window_0F_2'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:1893 ğŸ” [CRITICAL GLITCH POINT] About to call onUpdateAirEntry - this triggers store update which causes scene rebuild: {aboutToUpdateFloor: 'ground', aboutToUpdateIndex: 1, aboutToUpdatePosition: {â€¦}, currentVisibleFloor: 'ground', isUpdatingSameFloorAsVisible: true,Â â€¦}
wizard-design.tsx:1064 ğŸ§ª [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 1, receivedEntryId: 'window_0F_2', receivedEntryType: 'window', receivedEntryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:1922 ğŸ” [CRITICAL GLITCH POINT] onUpdateAirEntry call completed - scene will now rebuild
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:6453 ğŸ’¾ [PERSISTENCE DEBUG] Save Changes clicked: {entryId: 'window_0F_2', index: 1, floorName: 'ground', newProperties: {â€¦}, newWallPosition: 55}
Canvas3D.tsx:2352 ğŸ”„ [PERSISTENCE DEBUG] About to update store: {entryId: 'window_0F_2', floorName: 'ground', index: 1, newProperties: {â€¦}, newWallPosition: 55}
wizard-design.tsx:1064 ğŸ§ª [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 1, receivedEntryId: 'window_0F_2', receivedEntryType: 'window', receivedEntryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 ğŸ’¾ SNAPSHOT GUARDADO PARA PRÃ“XIMA EDICIÃ“N
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: null
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:2598 ğŸ” [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752581665621}
Canvas3D.tsx:5273 ğŸ”¥ SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5281 ğŸ” [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {â€¦}, timestamp: 1752581665625}
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:4758 ğŸ” [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2)Â [{â€¦}, {â€¦}]
Canvas3D.tsx:4767 ğŸ” [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4777 ğŸ” [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 0, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'window_0F_1', detectedPosition: {â€¦},Â â€¦}
Canvas3D.tsx:4802 ğŸ¯ [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4811 ğŸ¯ [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 0,Â â€¦}
Canvas3D.tsx:4822 Double-click position search: {airEntryData: {â€¦}, entryPosition: {â€¦}, storedEntryIndex: 0}
Canvas3D.tsx:4835 âœ… [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 0, detectedMeshId: 'window_0F_1', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 0,Â â€¦}
Canvas3D.tsx:4849 Double-click found entry using stored entryIndex: 0
Canvas3D.tsx:4894 ğŸ” [ID DEBUG] DIALOG WILL SHOW THESE IDs: {mergedEntryId: 'window_0F_1', baseEntryId: 'window_0F_1', meshAirEntryId: 'window_0F_1', expectedFormat: "Should be like 'window_0F_1'", actualId: 'window_0F_1',Â â€¦}
Canvas3D.tsx:4904 âœ… [CROSS-FLOOR FIX] DIALOG OPENING WITH CORRECT MAPPED DATA: {dialogWillShow: {â€¦}, userClickedOn: {â€¦}, mapping: {â€¦}, explanation: "Dialog shows data from mapped floor 'ground' matching clicked mesh from 'Ground Floor'"}
Canvas3D.tsx:4923 ğŸ§ª [DIAGNOSIS] setEditingAirEntry called with: {index: 0, floorName: 'ground', entryId: 'window_0F_1', entryType: 'window', entryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}
Canvas3D.tsx:1004 ğŸ§Š USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1605 ğŸ” [PERSISTENCE DEBUG] Dialog initialization data sources: {entryId: 'window_0F_1', storeEntry: {â€¦}, baseEntry: {â€¦}}
Canvas3D.tsx:1652 ğŸ” [PERSISTENCE DEBUG] Final dialog values: {entryId: 'window_0F_1', finalProperties: undefined, wallPosition: 55}
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: ground
Canvas3D.tsx:1671 ğŸ” [PERSISTENCE DEBUG] Dialog opened for: {type: 'window', index: 0, floor: 'ground', entryId: 'window_0F_1'}
Canvas3D.tsx:5252 ğŸ¯ [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5269 ğŸ›¡ï¸ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:4387 Hovering over axis mesh: x
Canvas3D.tsx:6453 ğŸ’¾ [PERSISTENCE DEBUG] Save Changes clicked: {entryId: 'window_0F_1', index: 0, floorName: 'ground', newProperties: {â€¦}, newWallPosition: 55}
Canvas3D.tsx:2352 ğŸ”„ [PERSISTENCE DEBUG] About to update store: {entryId: 'window_0F_1', floorName: 'ground', index: 0, newProperties: {â€¦}, newWallPosition: 55}
wizard-design.tsx:1064 ğŸ§ª [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 0, receivedEntryId: 'window_0F_1', receivedEntryType: 'window', receivedEntryPosition: {â€¦},Â â€¦}
Canvas3D.tsx:994 ğŸ” DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 ğŸ’¾ SNAPSHOT GUARDADO PARA PRÃ“XIMA EDICIÃ“N
Canvas3D.tsx:1028 ğŸ” lastEditedFloor changed: null
Canvas3D.tsx:1036 ğŸ” storeFloors changed: ['ground']
Canvas3D.tsx:2598 ğŸ” [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752581668421}
Canvas3D.tsx:5273 ğŸ”¥ SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5281 ğŸ” [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {â€¦}, timestamp: 1752581668424}
