춰AH칈 EST츼 EL PROBLEMA! Cada vez que finalFloors cambia, se borra y recrea toda la escena.
Soluci칩n: Debugging Paso a Paso
Paso 1: Verificar si el aislamiento funciona
A침ade este log antes del useEffect problem치tico:
javascriptuseEffect(() => {
  console.log("游댠 SCENE REBUILD TRIGGERED:", {
    editingAirEntry: !!editingAirEntry,
    shouldBeIsolated: !!editingAirEntry,
    finalFloorsId: JSON.stringify(Object.keys(finalFloors)),
    thisWillRecreateEverything: true
  });
  
  // Si est치s editando, NO deber칤as ver este log
  if (editingAirEntry) {
    console.error("游뚿 ISOLATION BROKEN! Scene rebuilding during editing!");
  }
  
  // ... resto del useEffect
}, [finalFloors, currentFloor, ceilingHeight, floorDeckThickness]);
Paso 2: Verificar que el token funciona
javascriptconsole.log("游댌 DEPENDENCY CHECK:", {
  editingAirEntry: !!editingAirEntry,
  usingToken: editingAirEntry ? 'EDITING_ISOLATION_TOKEN' : 'storeFloors',
  tokenId: EDITING_ISOLATION_TOKEN,
  storeFloorsId: Object.keys(storeFloors).join(',')
});
Paso 3: Si el aislamiento est치 roto, verificar estas causas
A) lastEditedFloor cambia durante edici칩n:
javascriptuseEffect(() => {
  console.log("游댌 lastEditedFloor changed:", lastEditedFloor);
}, [lastEditedFloor]);
B) floors prop cambia desde el padre:
javascriptuseEffect(() => {
  console.log("游댌 floors prop changed:", Object.keys(floors));
}, [floors]);
C) storeFloors cambia y rompe el token:
javascriptuseEffect(() => {
  console.log("游댌 storeFloors changed:", Object.keys(storeFloors));
}, [storeFloors]);
Mi Hip칩tesis Principal
Creo que el problema est치 en una de estas l칤neas:
javascript// L칤nea ~1410 - esto actualiza el store durante edici칩n
onUpdateAirEntry(editingAirEntry.floorName, editingAirEntry.index, updatedEntry);

// O l칤nea ~1360 - esto tambi칠n
onDimensionsUpdate(editingAirEntry.floorName, editingAirEntry.index, newDimensions);
Estas llamadas cambian el store durante la edici칩n, lo que puede romper el aislamiento.
Soluci칩n Temporal para Probar
Comenta temporalmente estas l칤neas para ver si para el movimiento global:
javascript// L칤nea ~1410
// onUpdateAirEntry(editingAirEntry.floorName, editingAirEntry.index, updatedEntry);

// L칤nea ~1360  
// onDimensionsUpdate(editingAirEntry.floorName, editingAirEntry.index, newDimensions);
Si esto para el movimiento global, entonces el problema es que las callbacks est치n rompiendo el aislamiento.
쯈u칠 logs ves?
A침ade los logs de diagn칩stico y dime:

쯉e dispara "SCENE REBUILD TRIGGERED" durante la edici칩n?
쯌es "ISOLATION BROKEN!" en la consola?
쯈u칠 valores tienen lastEditedFloor y storeFloors durante edici칩n?

Con esta informaci칩n sabr칠 exactamente d칩nde est치 el problema.