
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 466.43659608961474, y: 264.89635157528755}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 460.85301069538184, y: 268.0976072013144}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 455.26942530114894, y: 271.2988628273413}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 449.68583990691604, y: 274.50011845336815}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
AirEntryDialog.tsx:499 🎯 [SAVE BUTTON CLICKED] AirEntryDialog handleSubmit triggered
AirEntryDialog.tsx:500 🎯 [SAVE BUTTON CLICKED] Event type: submit
AirEntryDialog.tsx:501 🎯 [SAVE BUTTON CLICKED] Props type: vent
AirEntryDialog.tsx:502 🎯 [SAVE BUTTON CLICKED] Current values: {width: 60, height: 40, distanceToFloor: 110, shape: 'rectangular', wallPosition: 53.28, …}
AirEntryDialog.tsx:503 🎯 [SAVE BUTTON CLICKED] wallPosition from values: 53.28
AirEntryDialog.tsx:504 🎯 [SAVE BUTTON CLICKED] wallPosition from state: 53.28
AirEntryDialog.tsx:569 🎯 [SAVE CHANGES DEBUG] About to create canvasData
AirEntryDialog.tsx:570 🎯 [SAVE CHANGES DEBUG] Mode: airEntry
AirEntryDialog.tsx:571 🎯 [SAVE CHANGES DEBUG] isEditing: true
AirEntryDialog.tsx:572 🎯 [SAVE CHANGES DEBUG] values.wallPosition: 53.28
AirEntryDialog.tsx:573 🎯 [SAVE CHANGES DEBUG] wallPosition state: 53.28
AirEntryDialog.tsx:574 🎯 [SAVE CHANGES DEBUG] values.position: {x: 449.68583990691604, y: 274.50011845336815}
AirEntryDialog.tsx:575 🎯 [SAVE CHANGES DEBUG] This will determine 2D vs 3D behavior
AirEntryDialog.tsx:605 🎯 [PROPS.ONCONFIRM] About to call props.onConfirm with canvasData
AirEntryDialog.tsx:606 🎯 [PROPS.ONCONFIRM] canvasData being sent: {width: 60, height: 40, distanceToFloor: 110, shape: 'rectangular', wallPosition: 53.28, …}
AirEntryDialog.tsx:607 🎯 [PROPS.ONCONFIRM] canvasData.wallPosition: 53.28
AirEntryDialog.tsx:608 🎯 [PROPS.ONCONFIRM] canvasData.position: {x: 449.68583990691604, y: 274.50011845336815}
AirEntryDialog.tsx:609 🎯 [PROPS.ONCONFIRM] This should trigger handleAirEntryEdit in Canvas2D
Canvas2D.tsx:3292 🔴 [2D SAVE PROBLEM] Canvas2D handleAirEntryEdit called
Canvas2D.tsx:3293 🔴 [2D SAVE PROBLEM] Index: 0
Canvas2D.tsx:3294 🔴 [2D SAVE PROBLEM] Received data: {width: 60, height: 40, distanceToFloor: 110, shape: 'rectangular', wallPosition: 53.28, …}
Canvas2D.tsx:3295 🔴 [2D SAVE PROBLEM] data.wallPosition: 53.28
Canvas2D.tsx:3296 🔴 [2D SAVE PROBLEM] data.position: {x: 449.68583990691604, y: 274.50011845336815}
Canvas2D.tsx:3317 🔴 [2D SAVE PROBLEM] Final entry being saved: {type: 'vent', position: {…}, line: {…}, dimensions: {…}, properties: {…}}
Canvas2D.tsx:3318 🔴 [2D SAVE PROBLEM] Final entry position: {x: 449.68583990691604, y: 274.50011845336815}
Canvas2D.tsx:3319 🔴 [2D SAVE PROBLEM] Final entry wallPosition: 53.28
Canvas2D.tsx:3320 🔴 [2D SAVE PROBLEM] About to call onAirEntriesUpdate - this should persist to store
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 449.68583990691604, y: 274.50011845336815}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 53.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
Canvas2D.tsx:3325 🔴 [2D SAVE PROBLEM] Save complete - checking if element reverts in draw cycle
AirEntryDialog.tsx:613 🎯 [PROPS.ONCONFIRM] props.onConfirm completed
AirEntryDialog.tsx:614 🎯 [PROPS.ONCONFIRM] Now calling onClose() to close dialog
Canvas2D.tsx:3330 🟠 [DIALOG OPEN] openAirEntryDialog called
Canvas2D.tsx:3331 🟠 [DIALOG OPEN] airEntry index: 0
Canvas2D.tsx:3332 🟠 [DIALOG OPEN] airEntry position: {x: 472.02, y: 261.7}
Canvas2D.tsx:3333 🟠 [DIALOG OPEN] airEntry wallPosition: 49.28
Canvas2D.tsx:3336 🟠 [DIALOG OPEN] isAlreadyOpen: false
Canvas2D.tsx:3341 🟠 [DIALOG OPEN] Adding to editingAirEntries for real-time updates
Canvas2D.tsx:3330 🟠 [DIALOG OPEN] openAirEntryDialog called
Canvas2D.tsx:3331 🟠 [DIALOG OPEN] airEntry index: 0
Canvas2D.tsx:3332 🟠 [DIALOG OPEN] airEntry position: {x: 472.02, y: 261.7}
Canvas2D.tsx:3333 🟠 [DIALOG OPEN] airEntry wallPosition: 49.28
Canvas2D.tsx:3336 🟠 [DIALOG OPEN] isAlreadyOpen: true
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 466.43659608961474, y: 264.89635157528755}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 460.85301069538184, y: 268.0976072013144}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 455.26942530114894, y: 271.2988628273413}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 449.68583990691604, y: 274.50011845336815}
room-store.ts:164 🔍 [STORE setAirEntries] First entry wallPosition: 49.28
room-store.ts:178 🔍 [STORE setAirEntries] Store updated for floor: ground
wizard-design.tsx:2578 🔍 [WIZARD AIRENTRIES UPDATE] Called setAirEntries
wizard-design.tsx:2576 🔍 [WIZARD AIRENTRIES UPDATE] Received from Canvas2D: [{…}]
room-store.ts:160 🔍 [STORE setAirEntries] Called with: [{…}]
room-store.ts:161 🔍 [STORE setAirEntries] airEntries.length: 1
room-store.ts:163 🔍 [STORE setAirEntries] First entry position: {x: 444.1022545126832, y: 277.701374079395}