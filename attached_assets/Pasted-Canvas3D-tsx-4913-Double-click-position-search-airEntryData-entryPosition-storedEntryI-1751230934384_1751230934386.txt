Canvas3D.tsx:4913 Double-click position search: {airEntryData: {…}, entryPosition: {…}, storedEntryIndex: 4}
Canvas3D.tsx:4923 Double-click found entry using stored entryIndex: 4
Canvas3D.tsx:1331 AirEntry index 4 not found in current floor data
(anonymous) @ Canvas3D.tsx:1331
updateMemo @ chunk-WERSD76P.js?v=cfa7cc5f:12210
useMemo @ chunk-WERSD76P.js?v=cfa7cc5f:12726
useMemo @ chunk-3TFVT2CW.js?v=cfa7cc5f:1094
Canvas3D @ Canvas3D.tsx:1323
renderWithHooks @ chunk-WERSD76P.js?v=cfa7cc5f:11548
updateFunctionComponent @ chunk-WERSD76P.js?v=cfa7cc5f:14582
beginWork @ chunk-WERSD76P.js?v=cfa7cc5f:15924
beginWork$1 @ chunk-WERSD76P.js?v=cfa7cc5f:19753
performUnitOfWork @ chunk-WERSD76P.js?v=cfa7cc5f:19198
workLoopSync @ chunk-WERSD76P.js?v=cfa7cc5f:19137
renderRootSync @ chunk-WERSD76P.js?v=cfa7cc5f:19116
performSyncWorkOnRoot @ chunk-WERSD76P.js?v=cfa7cc5f:18874
flushSyncCallbacks @ chunk-WERSD76P.js?v=cfa7cc5f:9119
(anonymous) @ chunk-WERSD76P.js?v=cfa7cc5f:18627
AirEntryDialog.tsx:368 🟠 [DIALOG INIT] Dialog opened, isEditing: true
AirEntryDialog.tsx:369 🟠 [DIALOG INIT] Props received: {data-replit-metadata: 'client/src/components/sketch/Canvas3D.tsx:6261:6', data-component-name: 'AirEntryDialog', type: 'vent', isOpen: true, onClose: ƒ, …}
AirEntryDialog.tsx:374 🟠 [DIALOG INIT] airEntryProps.initialValues: null
AirEntryDialog.tsx:579 🎯 [SAVE BUTTON CLICKED] AirEntryDialog handleSubmit triggered
AirEntryDialog.tsx:580 🎯 [SAVE BUTTON CLICKED] Event type: submit
AirEntryDialog.tsx:581 🎯 [SAVE BUTTON CLICKED] Props type: vent
AirEntryDialog.tsx:582 🎯 [SAVE BUTTON CLICKED] Current values: {width: 50, height: 50, distanceToFloor: 120}
AirEntryDialog.tsx:583 🎯 [SAVE BUTTON CLICKED] wallPosition from values: undefined
AirEntryDialog.tsx:584 🎯 [SAVE BUTTON CLICKED] wallPosition from state: 50
AirEntryDialog.tsx:679 🎯 [PROPS.ONCONFIRM] About to call props.onConfirm with canvasData
AirEntryDialog.tsx:680 🎯 [PROPS.ONCONFIRM] canvasData being sent: {width: 50, height: 50, distanceToFloor: 0, shape: 'rectangular', wallPosition: 50, …}
AirEntryDialog.tsx:681 🎯 [PROPS.ONCONFIRM] canvasData.wallPosition: 50
AirEntryDialog.tsx:682 🎯 [PROPS.ONCONFIRM] canvasData.position: undefined
AirEntryDialog.tsx:683 🎯 [PROPS.ONCONFIRM] This should trigger handleAirEntryEdit in Canvas2D
Canvas3D.tsx:1568 🔍 [CANVAS3D SAVE] handleAirEntryEdit called: {index: 4, editingAirEntryIndex: 4, currentFloor: 'ground', data: {…}}
Canvas3D.tsx:1607 🔍 [CANVAS3D SAVE] Creating updatedEntry from: {editingEntry: {…}, formData: {…}}
Canvas3D.tsx:1625 🔍 [CANVAS3D SAVE] Position calculation: {wallPosition: 50, t: 0.5, line: {…}, newPosition: {…}}
Canvas3D.tsx:1645 🔍 [CANVAS3D SAVE] Final updatedEntry: {type: 'vent', position: {…}, dimensions: {…}, hasLine: true, hasId: true}
Canvas3D.tsx:1653 🔍 [CANVAS3D SAVE] Calling onUpdateAirEntry with: {currentFloor: 'ground', index: 4, entryType: 'vent'}
wizard-design.tsx:1152 🔍 [SAVE CHANGES DEBUG] Before floors update: {originalFloorAirEntries: 4, newAirEntriesCount: 5}
wizard-design.tsx:1162 🔍 [SAVE CHANGES DEBUG] After floors update: {updatedFloorAirEntries: 5}
wizard-design.tsx:1169 🔍 [SAVE CHANGES DEBUG] Store setFloors called
wizard-design.tsx:1173 🔍 [SAVE CHANGES DEBUG] About to call updateAirEntry: {floorName: 'ground', index: 4, entryType: 'vent'}
room-store.ts:438 ✅ STORE: AirEntry actualizado en el store, notificando a 2 listeners
room-store.ts:442 📢 STORE: Notificando listener 1/2
room-store.ts:442 📢 STORE: Notificando listener 2/2
RoomSketchPro.tsx:859 📥 RSP: Recibida notificación de cambio AirEntry - piso: ground, índice: 4
RoomSketchPro.tsx:860 📥 RSP: Tipo: vent, posición: (712, 36)
RoomSketchPro.tsx:864 🎨 RSP: Re-aplicando texturas después del cambio de AirEntry en ground
RoomSketchPro.tsx:859 📥 RSP: Recibida notificación de cambio AirEntry - piso: ground, índice: 4
RoomSketchPro.tsx:860 📥 RSP: Tipo: vent, posición: (712, 36)
RoomSketchPro.tsx:864 🎨 RSP: Re-aplicando texturas después del cambio de AirEntry en ground
wizard-design.tsx:1181 🔍 [SAVE CHANGES DEBUG] updateAirEntry completed
AirEntryDialog.tsx:687 🎯 [PROPS.ONCONFIRM] props.onConfirm completed
AirEntryDialog.tsx:688 🎯 [PROPS.ONCONFIRM] Now calling onClose() to close dialog
Canvas3D.tsx:2585 🔧 [SCENE REBUILD] Creating new material for vent at index 0
Canvas3D.tsx:2585 🔧 [SCENE REBUILD] Creating new material for vent at index 1
Canvas3D.tsx:2585 🔧 [SCENE REBUILD] Creating new material for vent at index 2
Canvas3D.tsx:2585 🔧 [SCENE REBUILD] Creating new material for vent at index 3
Canvas3D.tsx:2585 🔧 [SCENE REBUILD] Creating new material for vent at index 4
