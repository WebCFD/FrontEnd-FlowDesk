Canvas2D.tsx:3419 🔍 ID DIAGNOSIS - Canvas2D Dialog Opening: {index: 0, entryFromProps: {…}, allAirEntriesFromProps: Array(2)}allAirEntriesFromProps: (2) [{…}, {…}]entryFromProps: {id: 'window_0F_1', type: 'window'}index: 0[[Prototype]]: Object
Canvas2D.tsx:3419 🔍 ID DIAGNOSIS - Canvas2D Dialog Opening: {index: 0, entryFromProps: {…}, allAirEntriesFromProps: Array(2)}allAirEntriesFromProps: (2) [{…}, {…}]entryFromProps: {id: 'window_0F_1', type: 'window'}index: 0[[Prototype]]: Object
Canvas2D.tsx:3419 🔍 ID DIAGNOSIS - Canvas2D Dialog Opening: {index: 1, entryFromProps: {…}, allAirEntriesFromProps: Array(2)}allAirEntriesFromProps: (2) [{…}, {…}]entryFromProps: {id: 'window_0F_2', type: 'window'}index: 1[[Prototype]]: Object
Canvas2D.tsx:3419 🔍 ID DIAGNOSIS - Canvas2D Dialog Opening: {index: 1, entryFromProps: {…}, allAirEntriesFromProps: Array(2)}allAirEntriesFromProps: (2) [{…}, {…}]entryFromProps: {id: 'window_0F_2', type: 'window'}index: 1[[Prototype]]: Object
Canvas3D.tsx:994 🔍 DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: false, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 💾 SNAPSHOT GUARDADO PARA PRÓXIMA EDICIÓN
Canvas3D.tsx:1028 🔍 lastEditedFloor changed: null
Canvas3D.tsx:1032 🔍 floors prop changed: ['ground']
Canvas3D.tsx:1036 🔍 storeFloors changed: ['ground']
Canvas3D.tsx:2565 🔍 [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752582639382}
Canvas3D.tsx:5209 🔥 SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5217 🔍 [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {…}, timestamp: 1752582639391}
Canvas3D.tsx:4719 🔍 [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2) [{…}, {…}]
Canvas3D.tsx:4728 🔍 [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4738 🔍 [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 0, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'window_0F_1', detectedPosition: {…}, …}
Canvas3D.tsx:4763 🎯 [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4772 🎯 [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 0, …}
Canvas3D.tsx:4783 Double-click position search: {airEntryData: {…}, entryPosition: {…}, storedEntryIndex: 0}
Canvas3D.tsx:4796 ✅ [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 0, detectedMeshId: 'window_0F_1', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 0, …}
Canvas3D.tsx:4810 Double-click found entry using stored entryIndex: 0
Canvas3D.tsx:4841 🔍 ID DIAGNOSIS - Canvas3D Dialog Opening: {foundIndex: 0, correctFloorKey: 'ground', baseEntryFromStore: {…}, meshDataClicked: {…}, allStoreAirEntries: Array(2)}
Canvas3D.tsx:994 🔍 DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}
Canvas3D.tsx:1004 🧊 USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1028 🔍 lastEditedFloor changed: ground
Canvas3D.tsx:5188 🎯 [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5205 🛡️ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
Canvas3D.tsx:4348 Hovering over axis mesh: y
wizard-design.tsx:1064 🧪 [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 0, receivedEntryId: 'window_0F_1', receivedEntryType: 'window', receivedEntryPosition: {…}, …}
Canvas3D.tsx:994 🔍 DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 💾 SNAPSHOT GUARDADO PARA PRÓXIMA EDICIÓN
Canvas3D.tsx:1028 🔍 lastEditedFloor changed: null
Canvas3D.tsx:1036 🔍 storeFloors changed: ['ground']
Canvas3D.tsx:2565 🔍 [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752582646342}
Canvas3D.tsx:5209 🔥 SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}
Canvas3D.tsx:5217 🔍 [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {…}, timestamp: 1752582646347}
Canvas3D.tsx:4719 🔍 [CROSS-FLOOR DEBUG] Available AirEntry meshes in scene: (2) [{…}, {…}]
Canvas3D.tsx:4728 🔍 [CROSS-FLOOR DEBUG] Current floor selection: ground
Canvas3D.tsx:4738 🔍 [CROSS-FLOOR DEBUG] Detected mesh data: {detectedType: 'window', detectedEntryIndex: 1, detectedFloorName: 'Ground Floor', detectedAirEntryId: 'missing_id', detectedPosition: {…}, …}
Canvas3D.tsx:4763 🎯 [FLOOR KEY MAPPING] SUCCESS: {originalMeshFloor: 'Ground Floor', mappedToStoreKey: 'ground', foundInStore: true, availableAirEntries: 2, storeKeys: Array(1)}
Canvas3D.tsx:4772 🎯 [CROSS-FLOOR FIX] Correct floor lookup with mapping: {detectedMeshFloor: 'Ground Floor', mappedFloorKey: 'ground', lookingInCorrectFloor: 'ground', availableAirEntries: 2, willSearchForIndex: 1, …}
Canvas3D.tsx:4783 Double-click position search: {airEntryData: {…}, entryPosition: {…}, storedEntryIndex: 1}
Canvas3D.tsx:4796 ✅ [CROSS-FLOOR FIX] CORRECT MATCH DETECTED: {detectedMeshFrom: 'Ground Floor', detectedMeshIndex: 1, detectedMeshId: 'missing_id', searchingInCorrectFloor: 'Ground Floor', foundCorrectEntryAtIndex: 1, …}bugFixed: truecorrectEntryData: {type: 'window', position: {…}, line: {…}}detectedMeshFrom: "Ground Floor"detectedMeshId: "missing_id"detectedMeshIndex: 1foundCorrectEntryAtIndex: 1searchingInCorrectFloor: "Ground Floor"[[Prototype]]: Object
Canvas3D.tsx:4810 Double-click found entry using stored entryIndex: 1
Canvas3D.tsx:4841 🔍 ID DIAGNOSIS - Canvas3D Dialog Opening: {foundIndex: 1, correctFloorKey: 'ground', baseEntryFromStore: {…}, meshDataClicked: {…}, allStoreAirEntries: Array(2)}
Canvas3D.tsx:994 🔍 DEPENDENCY CHECK: {editingAirEntry: true, hasSnapshot: true, willUseSnapshot: true, storeFloorsId: 'ground', lastEditedFloor: 'ground'}editingAirEntry: truehasSnapshot: truelastEditedFloor: "ground"storeFloorsId: "ground"willUseSnapshot: true[[Prototype]]: Object
Canvas3D.tsx:1004 🧊 USANDO SNAPSHOT CONGELADO - NO REBUILD
Canvas3D.tsx:1028 🔍 lastEditedFloor changed: ground
Canvas3D.tsx:5188 🎯 [SURGICAL FIX] Real-time update mode detected: {editingFloor: 'ground', lastEditedFloor: 'ground', shouldSkipFullRebuild: true, willUseDirectMeshUpdates: true}
Canvas3D.tsx:5205 🛡️ SCENE REBUILD BLOCKED - Currently editing, skipping rebuild
wizard-design.tsx:1064 🧪 [DIAGNOSIS WIZARD] handleUpdateAirEntryFrom3D called with: {receivedFloorName: 'ground', receivedIndex: 1, receivedEntryId: undefined, receivedEntryType: 'window', receivedEntryPosition: {…}, …}airEntriesArrayLength: 2currentFloorInWizard: "ground"receivedEntryId: undefinedreceivedEntryPosition: {x: 619.71, y: 221.57}receivedEntryType: "window"receivedFloorName: "ground"receivedIndex: 1timestamp: 1752582650101willAccessExistingEntry: true[[Prototype]]: Object
Canvas3D.tsx:994 🔍 DEPENDENCY CHECK: {editingAirEntry: false, hasSnapshot: true, willUseSnapshot: false, storeFloorsId: 'ground', lastEditedFloor: null}
Canvas3D.tsx:1015 💾 SNAPSHOT GUARDADO PARA PRÓXIMA EDICIÓN
Canvas3D.tsx:1028 🔍 lastEditedFloor changed: null
Canvas3D.tsx:1036 🔍 storeFloors changed: ['ground']0: "ground"length: 1[[Prototype]]: Array(0)
Canvas3D.tsx:2565 🔍 [GLITCH INVESTIGATION] createFloorObjects called for floor: {floorName: 'Ground Floor', isCurrentFloor: true, airEntriesCount: 2, airEntriesData: Array(2), timestamp: 1752582650119}airEntriesCount: 2airEntriesData: (2) [{…}, {…}]floorName: "Ground Floor"isCurrentFloor: truetimestamp: 1752582650119[[Prototype]]: Object
Canvas3D.tsx:5209 🔥 SCENE REBUILD TRIGGERED: {editingAirEntry: false, finalFloorsId: '["ground"]', thisWillRecreateEverything: true, triggerCause: 'finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed'}editingAirEntry: falsefinalFloorsId: "[\"ground\"]"thisWillRecreateEverything: truetriggerCause: "finalFloors, currentFloor, ceilingHeight, or floorDeckThickness changed"[[Prototype]]: Object
Canvas3D.tsx:5217 🔍 [GLITCH ROOT CAUSE] Scene rebuild details: {currentFloor: 'ground', finalFloorsKeys: Array(1), totalAirEntries: 2, allAirEntryPositions: {…}, timestamp: 1752582650122}allAirEntryPositions: {ground: Array(2)}currentFloor: "ground"finalFloorsKeys: ['ground']timestamp: 1752582650122totalAirEntries: 2[[Prototype]]: Object
